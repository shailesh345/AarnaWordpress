import{d as X,c as _,h as A,a as m,e as L,u as F,t as Y,j as R}from"./index.a13799ab.js";import{D as H}from"./datetime.f197aeae.js";import{C as ee}from"./Tooltip.78b61f71.js";import{_ as V}from"./_plugin-vue_export-helper.eefbdd86.js";import{o as l,c as h,D as te,f as B,v as q,a as c,H as C,K as E,t as r,k as x,l as y,b as v,G as ne,N as oe,x as w,A as ie,J as se,u as p,g as D}from"./runtime-dom.esm-bundler.baf35205.js";import{a as re}from"./index.d63536bd.js";import"./translations.d159963e.js";import{_ as i,s as P}from"./default-i18n.20001971.js";import{h as I,w as ae}from"./SchemaStore.93bb47b2.js";import{j as ce}from"./helpers.a0b389be.js";import{S as le,_ as $,C as de}from"./Caret.7cc96622.js";import{C as ue}from"./Index.278f7f5c.js";import{S as pe}from"./CheckSolid.1941c38f.js";import{p as ge}from"./popup.92105c51.js";import{C as fe}from"./Index.9f340035.js";const G=X("AiStore",{state:()=>({faqs:{tone:"",audience:""},keyPoints:{tone:"",audience:""},socialPosts:{tone:"",audience:"",selected:[]},metaTitle:{tone:"",audience:""},metaDescription:{tone:"",audience:""},isModalOpened:!1}),getters:{isFreeAndOutOfCredits:n=>{var t;const e=_();return!(!e.internalOptions.internal.ai.isTrialAccessToken||n.isModalOpened||1<((t=e.internalOptions.internal.ai.credits)==null?void 0:t.remaining))}},actions:{storeAccessToken(n){const e=_();return e.internalOptions.internal.ai.accessToken=n,A.post(m.restUrl("ai/auth")).send({accessToken:n}).then(t=>{if(t.body.error){console.error(t.body.error);return}const o=_();return o.internalOptions.internal.ai=t.body.aiOptions,t})},generateSocialPosts(){const n=L(),e=this.socialPosts.selected.map(t=>t.slug);return A.post(m.restUrl("ai/social-posts")).send({postId:n.currentPost.id,postContent:I(),permalink:ae(),options:{media:e,tone:this.socialPosts.tone,audience:this.socialPosts.audience}}).then(t=>{if(t.body.error){console.error(t.body.error);return}const o=L();o.currentPost.ai.socialPosts=t.body.snippets;const a=_();return a.internalOptions.internal.ai=t.body.aiOptions,t})},generateFaqs(n=!1){const e=L();return A.post(m.restUrl("ai/faqs")).send({postId:e.currentPost.id,postContent:I(),options:{tone:this.faqs.tone,audience:this.faqs.audience},rephrase:n,faqs:e.currentPost.ai.faqs}).then(t=>{if(t.body.error)return console.error(t.body.error),Promise.reject(t.body.error);e.currentPost.ai.faqs=t.body.faqs;const o=_();return o.internalOptions.internal.ai=t.body.aiOptions,t})},generateKeyPoints(n=!1){const e=L();return A.post(m.restUrl("ai/key-points")).send({postId:e.currentPost.id,postContent:I(),options:{tone:this.keyPoints.tone,audience:this.keyPoints.audience},rephrase:n,keyPoints:e.currentPost.ai.keyPoints}).then(t=>{if(t.body.error){console.error(t.body.error);return}e.currentPost.ai.keyPoints=t.body.keyPoints;const o=_();return o.internalOptions.internal.ai=t.body.aiOptions,t})},generateMetaTitles(n=!1){const e=L(),t=e.currentPost.keyphrases.focus.keyphrase;return A.post(m.restUrl("ai/meta/title")).send({postId:e.currentPost.id,postContent:I(),focusKeyword:t,options:{tone:this.metaTitle.tone,audience:this.metaTitle.audience},rephrase:n,titles:e.currentPost.ai.titles}).then(o=>{if(o.body.error)return Promise.reject(o.body.error);e.currentPost.ai.titles=o.body.titles;const a=_();return a.internalOptions.internal.ai=o.body.aiOptions,o})},generateMetaDescriptions(n=!1){const e=L(),t=e.currentPost.keyphrases.focus.keyphrase;return A.post(m.restUrl("ai/meta/description")).send({postId:e.currentPost.id,postContent:I(),focusKeyword:t,options:{tone:this.metaDescription.tone,audience:this.metaDescription.audience},rephrase:n,descriptions:e.currentPost.ai.descriptions}).then(o=>{if(o.body.error)return Promise.reject(o.body.error);e.currentPost.ai.descriptions=o.body.descriptions;const a=_();return a.internalOptions.internal.ai=o.body.aiOptions,o})},addFaq(n){this.faqData.faqs.push(n)},removeFaq(n){this.faqData.faqs=this.faqData.faqs.filter(e=>e.id!==n.id)},addKeyPoint(n){this.keyPointsData.keyPoints.push(n)},removeKeyPoint(n){this.keyPointsData.keyPoints=this.keyPointsData.keyPoints.filter(e=>e.id!==n.id)},formatFaqs(){let n="";return this.faqData.faqs.forEach(e=>{n+=`Q: ${e.question}
A: ${e.answer}

`}),n},formatKeyPoints(){let n="";return this.keyPointsData.keyPoints.forEach(e=>{n+=`${e.title}
 ${e.explanation}

`}),n},deactivate(){return A.post(m.restUrl("ai/deactivate")).send().then(n=>{var t;if(!n.body.success)throw new Error(n.body.message);const e=_();return(t=n==null?void 0:n.body)!=null&&t.aiData&&(e.internalOptions.internal.ai=n.body.aiData),n})}}}),me={},he={class:"aioseo-ai-credits",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_e=te('<path d="M4 18V10V10.325V6V18ZM4 8H20V6H4V8ZM11.575 20H4C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H20C20.55 4 21.0208 4.19583 21.4125 4.5875C21.8042 4.97917 22 5.45 22 6V11.325C21.4167 10.9083 20.7792 10.5833 20.0875 10.35C19.3958 10.1167 18.6667 10 17.9 10C16.95 10 16.0542 10.1792 15.2125 10.5375C14.3708 10.8958 13.6333 11.3833 13 12H4V18H10.975C11.025 18.35 11.1 18.6917 11.2 19.025C11.3 19.3583 11.425 19.6833 11.575 20Z" fill="url(#paint0_linear_214_19291)"></path><path d="M21.9502 12.7273V20H20.4126V12.7273H21.9502Z" fill="#3262F2"></path><path d="M14.1856 20H12.5378L15.0485 12.7273H17.03L19.5371 20H17.8894L16.0677 14.3892H16.0109L14.1856 20ZM14.0826 17.1414H17.9746V18.3416H14.0826V17.1414Z" fill="#3262F2"></path><defs><linearGradient id="paint0_linear_214_19291" x1="2" y1="12" x2="22" y2="12" gradientUnits="userSpaceOnUse"><stop stop-color="#4E17CF"></stop><stop offset="1" stop-color="#3064F3"></stop></linearGradient></defs>',4),ye=[_e];function Ce(n,e){return l(),h("svg",he,ye)}const ke=V(me,[["render",Ce]]),f="all-in-one-seo-pack",be={setup(){const n=ie(),e=F(),t=_(),o=g=>{const u=H.fromMillis(g.expires*1e3),S=Y(u.toJSDate(),e.aioseo.data.dateFormat);return P(i("%1$s credits will expire on %2$s.",f),parseInt(g.remaining).toLocaleString(),S)},a=B(()=>{var S,k;if(e.aioseo.data.isNetworkLicensed)return i("These credits will reset when your license renews. Your license details can be found in the Network Admin area.",f);const g=H.fromMillis(((k=(S=t.internalOptions.internal)==null?void 0:S.license)==null?void 0:k.expires)*1e3),u=Y(g.toJSDate(),e.aioseo.data.dateFormat);return P(i("These credits will reset when your license renews on %1$s.",f),u)}),s=B(()=>t.internalOptions.internal.ai.isTrialAccessToken?i("Trial Credits",f):i("Credits",f));return{app:n,licenseStore:R(),optionsStore:t,rootStore:e,links:m,DateTime:H,orderExpiration:o,licenseExpiration:a,creditsText:s}},components:{CoreTooltip:ee,SvgAiCredits:ke,SvgCircleQuestionMark:re},props:{parentComponentContext:{type:String,default:"metabox"},isSettingsPage:{type:Boolean,default:!1}},data(){return{strings:{creditsLinksLite:P(i("To unlock additional credits, %1$s or %2$s.",f),`<a href="${m.getUpsellUrl("ai-content","credit-counter","liteUpgrade")}" target="_blank">${i("upgrade to Pro",f)}</a>`,`<a href="${m.getUpsellUrl("ai-content","credit-counter","aiCredits")}" target="_blank">${i("purchase a Pay-As-You-Go bundle",f)}</a>`),creditsLinksPro:P(i("To unlock additional credits, %1$s or %2$s.",f),`<a href="${m.getUpsellUrl("ai-content","credit-counter","proUpgrade")}" target="_blank">${i("upgrade to higher plan",f)}</a>`,`<a href="${m.getUpsellUrl("ai-content","credit-counter","aiCredits")}" target="_blank">${i("purchase a Pay-As-You-Go bundle",f)}</a>`),creditsLinksElite:P(i("To unlock additional credits, %1$s.",f),`<a href="${m.getUpsellUrl("ai-content","credit-counter","aiCredits")}" target="_blank">${i("purchase a Pay-As-You-Go bundle",f)}</a>`),buyCredits:i("Buy Credits",f),paygCredits:i("PAYG AI Credits",f)}}},computed:{planLevel(){return this.licenseStore.isUnlicensed?"":this.optionsStore.internalOptions.internal.license.level},planCredits(){let n=this.planLevel;return this.rootStore.aioseo.data.isNetworkLicensed&&(n="Elite"),n?(n=n.charAt(0).toUpperCase()+n.slice(1),P(i("%1$s Plan AI Credits",f),n)):""},oldestOrdersFirst(){return this.optionsStore.internalOptions.internal.ai.credits.orders.sort((e,t)=>e.expires-t.expires)},orderRemaining(){return this.optionsStore.internalOptions.internal.ai.credits.orders.reduce((n,e)=>n+parseInt(e.remaining),0).toLocaleString()},orderTotal(){return this.optionsStore.internalOptions.internal.ai.credits.orders.reduce((n,e)=>n+parseInt(e.total),0).toLocaleString()},licenseRemaining(){return this.optionsStore.internalOptions.internal.ai.credits.license.remaining.toLocaleString()},licenseTotal(){return this.optionsStore.internalOptions.internal.ai.credits.license.total.toLocaleString()},getCreditsLinks(){var n,e;return this.rootStore.aioseo.data.isNetworkLicensed&&!this.optionsStore.internalOptions.internal.license.level?this.strings.creditsLinksElite:!this.rootStore.isPro||!this.licenseStore.license.isActive?this.strings.creditsLinksLite:((e=(n=this.optionsStore.internalOptions.internal.license)==null?void 0:n.level)==null?void 0:e.toLowerCase())==="elite"?this.strings.creditsLinksElite:this.strings.creditsLinksPro}}},ve={class:"aioseo-ai-credit-counter"},Se={class:"counter-container-wrapper"},Pe={class:"counter-container"},Oe={key:0,class:"aioseo-ai-credit-counter-license"},Ae={class:"credit-heading"},xe={class:"counter"},we={class:"license-expiration"},Te={key:1},Le={key:2,class:"aioseo-ai-credit-counter-orders"},Ue={class:"credit-heading"},Ee={class:"counter"},De={class:"credit-orders"},Ie={key:0,class:"purchase-credits"},qe=["href"],Me={key:0,class:"purchase-credits"},He=["innerHTML"];function $e(n,e,t,o,a,s){const g=q("svg-ai-credits"),u=q("svg-circle-question-mark"),S=q("core-tooltip"),k=q("base-button");return l(),h("div",ve,[c("div",Se,[C(g),c("div",Pe,[c("div",{class:E(["counter",{"counter-sidebar":o.app.root.data.screenContext==="sidebar"}])},[c("span",{class:E({"credit-count":!0,"low-credits":o.optionsStore.aiCreditPercentage<=20})},r(o.optionsStore.internalOptions.internal.ai.credits.remaining.toLocaleString())+" / "+r(o.optionsStore.internalOptions.internal.ai.credits.total.toLocaleString())+" "+r(o.creditsText),3),!o.optionsStore.internalOptions.internal.ai.isTrialAccessToken&&(o.optionsStore.internalOptions.internal.ai.credits.orders.length>0||o.optionsStore.internalOptions.internal.ai.credits.license.total>0)?(l(),x(S,{key:0,offset:o.app.root.data.screenContext==="sidebar"&&t.parentComponentContext==="metabox"?"10px,0":"50px,0",placement:o.app.root.data.screenContext==="sidebar"&&t.parentComponentContext==="metabox"?"left":"right"},{tooltip:y(()=>[o.optionsStore.internalOptions.internal.license&&o.optionsStore.internalOptions.internal.ai.credits.license.total>0?(l(),h("div",Oe,[c("span",Ae,r(s.planCredits),1),c("div",xe,[C(g),c("span",{class:E({"credit-count":!0,"low-credits":s.licenseRemaining/s.licenseTotal>20})},r(s.licenseRemaining)+" / "+r(s.licenseTotal),3)]),c("span",we,r(o.licenseExpiration),1)])):v("",!0),o.optionsStore.internalOptions.internal.license&&o.optionsStore.internalOptions.internal.ai.credits.license.total>0&&o.optionsStore.internalOptions.internal.ai.credits.orders.length>0?(l(),h("hr",Te)):v("",!0),o.optionsStore.internalOptions.internal.ai.credits.orders.length>0?(l(),h("div",Le,[c("span",Ue,r(a.strings.paygCredits),1),c("div",Ee,[C(g),c("span",{class:E({"credit-count":!0,"low-credits":s.orderRemaining/s.orderTotal>20})},r(s.orderRemaining)+" / "+r(s.orderTotal),3)]),c("div",De,[(l(!0),h(ne,null,oe(s.oldestOrdersFirst,(U,O)=>(l(),h("span",{key:O,class:"credit-order"},r(o.orderExpiration(U)),1))),128))])])):v("",!0)]),default:y(()=>[C(u)]),_:1},8,["offset","placement"])):v("",!0)],2),t.isSettingsPage?v("",!0):(l(),h("div",Ie,[o.optionsStore.aiCreditPercentage<=20?(l(),x(k,{key:0,class:E({"aioseo-ai-content-settings-button":t.isSettingsPage}),size:t.isSettingsPage?"medium":"small",type:"green",tag:"a",href:o.links.getUpsellUrl("ai-credit-counter","","aiCredits"),target:"_blank"},{default:y(()=>[w(r(a.strings.buyCredits),1)]),_:1},8,["class","size","href"])):(l(),h("a",{key:1,class:"buy-credits",href:o.links.getUpsellUrl("ai-credit-counter","","aiCredits"),target:"__blank"},r(a.strings.buyCredits),9,qe))]))])]),t.isSettingsPage?(l(),h("div",Me,[c("p",{innerHTML:s.getCreditsLinks},null,8,He)])):v("",!0)])}const gt=V(be,[["render",$e]]),d="all-in-one-seo-pack",ft=()=>{const n=F(),e=_(),t=[{value:"friendly",label:i("Friendly",d)},{value:"formal",label:i("Formal",d)},{value:"humorous",label:i("Humorous",d)},{value:"informal",label:i("Informal",d)},{value:"informative",label:i("Informative",d)},{value:"neutral",label:i("Neutral",d)},{value:"persuasive",label:i("Persuasive",d)},{value:"professional",label:i("Professional",d)}],o=[{value:"academic",label:i("Academic",d)},{value:"business",label:i("Business",d)},{value:"educational",label:i("Educational",d)},{value:"general",label:i("General",d)},{value:"technical",label:i("Technical",d)}],a={credits:i("Credits",d),alertDescription:P(i('Choose the tone and target audience for your content. You can manage your default settings under <a href="%1$s" target="_blank" rel="noopener noreferrer">General Settings > AI Content</a>.',d),n.aioseo.urls.aio.settings+"/#ai-content"),audience:i("Audience",d),tone:i("Tone",d)};return{audienceOptions:o,loadingText:u=>P(i("Loading %1$s Content",d),u),strings:a,toneOptions:t,hasEnoughCredits:u=>e.internalOptions.internal.ai.credits.remaining>=u}},Be={class:"aioseo-modal-body"},Fe={class:"reset-description"},Ve={__name:"DisconnectModal",props:{showModal:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["continue","cancel"],setup(n){const e="all-in-one-seo-pack",t={areYouSureReset:i("Are you sure you want to disconnect from AI Content?",e),actionCannotBeUndone:P(i("This action will disconnect %1$s from AI Content. By disconnecting from AI Content, you will no longer be able to use the AI Content features.",e),"AIOSEO"),yesContinue:i("Yes, I want to disconnect",e),noCancel:i("No, I changed my mind",e)},o=n;return(a,s)=>{const g=q("base-button");return l(),x(p(ue),{show:o.showModal,"no-header":"",onClose:s[4]||(s[4]=u=>a.$emit("cancel")),classes:["aioseo-ai-content-settings__disconnect-modal"]},{body:y(()=>[c("div",Be,[c("button",{class:"close",onClick:s[1]||(s[1]=se(u=>a.$emit("cancel"),["stop"]))},[C(p(le),{onClick:s[0]||(s[0]=u=>a.$emit("cancel"))})]),c("h3",null,r(t.areYouSureReset),1),c("div",Fe,r(t.actionCannotBeUndone),1),C(g,{type:"blue",size:"medium",onClick:s[2]||(s[2]=u=>a.$emit("continue")),loading:o.loading},{default:y(()=>[w(r(t.yesContinue),1)]),_:1},8,["loading"]),C(g,{type:"gray",size:"medium",onClick:s[3]||(s[3]=u=>a.$emit("cancel"))},{default:y(()=>[w(r(t.noCancel),1)]),_:1})])]),_:1},8,["show"])}}},Ne={class:"aioseo-buy-or-connect"},Ye={key:0,class:"aioseo-buy-or-connect__actions"},Re={class:"aioseo-buy-or-connect__connected"},Ge={key:1,class:"aioseo-buy-or-connect__actions"},ze={class:"actions-divider"},Ke={__name:"BuyOrConnectButtons",setup(n){const e="all-in-one-seo-pack",t=D(!1),o=D(!1),a=D(!1),s=D(!1),g=D(null),u=G(),S=R(),k=F(),U=_(),O={buyCredits:i("Buy Credits",e),connectExistingAccount:i("Connect to an Existing Account",e),or:i("OR",e),connected:i("Your account is connected!",e),connectedNetwork:i("Your account is connected at the network level of your WordPress multisite.",e),disconnect:i("Disconnect",e)},z=B(()=>k.aioseo.data.isNetworkLicensed&&!U.internalOptions.internal.license.level?O.connectedNetwork:O.connected),K=()=>{t.value=!0;const b=k.aioseo.urls.marketingSiteUrl+"pricing-ai-credits?url="+btoa(k.aioseo.urls.home);N(b,1200,900)},Z=()=>{o.value=!0;const b=k.aioseo.urls.marketingSiteUrl+"account/?ai-credits-connect=1&url="+btoa(k.aioseo.urls.home);N(b,450,700)},N=(b,T=650,M=800)=>{ge(b,i("Connect Your Site with AI Content Generation",e),T,M,!0,["success"],j,J)},j=b=>(!b.success||!b.accessToken||(t.value=!0,o.value=!0,u.storeAccessToken(b.accessToken),t.value=!1,o.value=!1),Promise.resolve()),J=()=>{t.value=!1,o.value=!1},Q=()=>{a.value=!0,s.value=!1,u.deactivate().catch(()=>{g.value=i("An unknown error occurred, please try again later.",e)}).finally(()=>{a.value=!1})};return(b,T)=>{var M;return l(),h("div",Ne,[(M=p(U).internalOptions.internal.ai)!=null&&M.accessToken&&!p(U).internalOptions.internal.ai.isTrialAccessToken?(l(),h("div",Ye,[c("div",Re,[C(p(pe)),c("span",null,r(z.value),1)]),p(S).license.isActive?v("",!0):(l(),x(p($),{key:0,type:"gray",size:"medium",inline:"",tag:"button",loading:a.value,onClick:T[0]||(T[0]=W=>s.value=!0)},{default:y(()=>[w(r(O.disconnect),1)]),_:1},8,["loading"])),p(S).license.isActive?v("",!0):(l(),x(Ve,{key:1,"show-modal":s.value,onContinue:Q,onCancel:T[1]||(T[1]=W=>s.value=!1)},null,8,["show-modal"]))])):(l(),h("div",Ge,[C(p($),{type:"green",size:"medium",tag:"a",target:"_blank",onClick:K,loading:t.value},{default:y(()=>[w(r(O.buyCredits),1)]),_:1},8,["loading"]),c("div",ze,r(O.or),1),C(p($),{type:"gray",size:"medium",tag:"a",target:"_blank",onClick:Z,loading:o.value},{default:y(()=>[w(r(O.connectExistingAccount),1)]),_:1},8,["loading"]),g.value?(l(),x(p(de),{key:0,class:"license-key-error",type:"red",innerHTML:g.value},null,8,["innerHTML"])):v("",!0)]))])}}},Ze=V(Ke,[["__scopeId","data-v-f0c13937"]]),je=""+window.__aioseoDynamicImportPreload__("images/ai-content.893361cb.png"),Je=["src"],Qe=["href"],mt={__name:"Cta",setup(n){const e="all-in-one-seo-pack",t={ctaHeader:i("You Ran Out of Trial Credits!",e),aiContentDescription:i("To continue using awesome AI Content features such as FAQs, Key Points, and Social Posts, you must purchase additional credits or connect to an existing account.",e),proUpgradeLink:i("Or upgrade to Pro to unlock additional AI credits.",e)},o=G();return(a,s)=>p(o).isFreeAndOutOfCredits?(l(),x(p(fe),{key:0,type:6,"cta-button-action":"","cta-second-button-visible":"","cta-second-button-action":"","show-link":!1,"hide-bonus":""},{"featured-image":y(()=>[c("img",{alt:"AIOSEO AI Content Generation",src:p(ce)(p(je))},null,8,Je)]),"header-text":y(()=>[w(r(t.ctaHeader),1)]),description:y(()=>[c("p",null,r(t.aiContentDescription),1),C(p(Ze)),c("a",{class:"aioseo-pro-upgrade-link",href:p(m).getPricingUrl("metabox","ai-content"),target:"_blank",rel:"noopener noreferrer"},r(t.proUpgradeLink),9,Qe)]),_:1})):v("",!0)}};export{Ze as B,gt as C,mt as _,ft as a,G as u};
