import{G as j}from"./constants.a8a14dc3.js";import{n as L,a as D,q as I,c as w,u as G,j as U,m as P}from"./index.a13799ab.js";import{C as V}from"./Card.b4864217.js";import{C as q}from"./Tabs.4788ba43.js";import{C as W}from"./SeoSiteAnalysisResults.f1ab6744.js";import{g as H,v as a,o as n,c as y,H as d,b as S,a as r,t as _,G as F,N as K,k as R,l as m,x,w as Y,f as J,z as Q,u,J as X,K as Z}from"./runtime-dom.esm-bundler.baf35205.js";import{p as $}from"./popup.92105c51.js";import{u as E}from"./SeoSiteScore.b9cddfde.js";import{C as ee}from"./Blur.601d8ea8.js";import{C as oe}from"./Index.d45655c8.js";import{S as se}from"./Book.5c6b4513.js";import{S as te}from"./Lab.2c420be4.js";import"./translations.d159963e.js";import{_ as N}from"./_plugin-vue_export-helper.eefbdd86.js";import{_ as p,s as M}from"./default-i18n.20001971.js";import{u as re}from"./ConnectStore.82ab5d01.js";import{C as ne}from"./Tooltip.78b61f71.js";import{S as ae}from"./Refresh.4b0d6fa0.js";import{a as ie}from"./index.d63536bd.js";import"./helpers.a0b389be.js";import"./Caret.7cc96622.js";import"./Slide.1db617da.js";import"./vue-router.fd2bb90e.js";import"./ProBadge.2e262a91.js";import"./Information.8cb16b63.js";import"./SchemaStore.93bb47b2.js";import"./metabox.e4ccf554.js";import"./cleanForSlug.cacc99d0.js";import"./toString.1e64e8a6.js";import"./contentHasAssets.e1428256.js";import"./_baseSet.ca702273.js";import"./regex.8a6101c0.js";import"./GoogleSearchPreview.ed1b5a5f.js";import"./Url.772412e1.js";import"./Gear.9759526d.js";import"./params.af7ed354.js";import"./SetupWizardStore.2bf26928.js";const O="all-in-one-seo-pack",le={setup(i){const{errorObject:l,strings:g}=E({score:H(i.score)});return{analyzerStore:L(),composableStrings:g,errorObject:l,links:D}},components:{CoreSiteScore:oe,SvgBook:se,SvgDannieLab:te},props:{score:Number,loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:I({yourOverallSiteScore:p("Your Overall Site Score",O),goodResult:M(p("A very good score is between %1$s%3$d and %4$d%2$s.",O),"<strong>","</strong>",50,75),forBestResults:M(p("For best results, you should strive for %1$s%3$d and above%2$s.",O),"<strong>","</strong>",70),readUltimateSeoGuide:p("Read the Ultimate WordPress SEO Guide",O)},this.composableStrings)}}},ce={class:"aioseo-seo-analysis"},ue={key:0,class:"seo-analysis-score"},me={key:1,class:"seo-analysis-description"},de=["innerHTML"],pe=["innerHTML"],_e={class:"d-flex"},ge=["href"],he={key:2,class:"seo-analysis-error"},ye={class:"error-title"},Se=["innerHTML"],fe={class:"error-action-buttons"};function Ce(i,l,g,e,t,s){const k=a("core-site-score"),h=a("svg-book"),z=a("svg-dannie-lab"),v=a("base-button");return n(),y("div",ce,[e.analyzerStore.analyzeError?S("",!0):(n(),y("div",ue,[d(k,{loading:g.loading,score:g.score,description:g.description,strokeWidth:1.75},null,8,["loading","score","description"])])),e.analyzerStore.analyzeError?S("",!0):(n(),y("div",me,[r("h2",null,_(t.strings.yourOverallSiteScore),1),r("div",{innerHTML:t.strings.goodResult},null,8,de),r("div",{innerHTML:t.strings.forBestResults},null,8,pe),r("div",_e,[d(h),r("a",{href:e.links.getDocUrl("ultimateGuide"),target:"_blank"},_(t.strings.readUltimateSeoGuide),9,ge)])])),e.analyzerStore.analyzeError&&e.errorObject?(n(),y("div",he,[d(z),r("p",ye,_(t.strings.anErrorOccurred),1),r("p",{class:"error-description",innerHTML:e.errorObject.description},null,8,Se),r("div",fe,[(n(!0),y(F,null,K(e.errorObject.buttons,(o,b)=>(n(),R(v,{key:b,type:o.type,tag:o.tag?o.tag:"button",target:"_blank",href:o.url?o.url:"",size:"medium",loading:(o==null?void 0:o.runAgain)&&e.analyzerStore.analyzing,onClick:T=>o!=null&&o.runAgain?e.analyzerStore.runSiteAnalyzer():""},{default:m(()=>[x(_(o.text),1)]),_:2},1032,["type","tag","href","loading","onClick"]))),128))])])):S("",!0)])}const B=N(le,[["render",Ce]]),ke={class:"aioseo-seo-site-score"},ze={key:1,class:"aioseo-seo-site-score-cta"},ve={__name:"Analyze",setup(i){const l=H(0),{connectWithAioseo:g,description:e,strings:t}=E({score:l}),s=L(),k=re(),h=w(),z=G();Y(()=>s.homeResults.score,c=>{l.value=c});const v=J(()=>({recommended:s.recommendedCount(),critical:s.criticalCount(),good:s.goodCount()})),o=c=>{$(c,g,600,630,!0,["token"],b,T)},b=c=>k.saveConnectToken(c.token),T=c=>{c&&s.runSiteAnalyzer(),s.analyzing=!0};return Q(()=>{!s.homeResults.score&&h.internalOptions.internal.siteAnalysis.connectToken&&(s.analyzing=!0,s.runSiteAnalyzer()),l.value=s.homeResults.score}),(c,A)=>(n(),y("div",ke,[u(h).internalOptions.internal.siteAnalysis.connectToken?S("",!0):(n(),R(u(ee),{key:0},{default:m(()=>[d(u(B),{score:85,description:u(e)},null,8,["description"])]),_:1})),u(h).internalOptions.internal.siteAnalysis.connectToken?S("",!0):(n(),y("div",ze,[r("a",{href:"#",onClick:A[0]||(A[0]=X(f=>o(u(z).aioseo.urls.connect),["prevent"]))},_(u(g)),1),x(" "+_(u(t).toSeeYourSiteScore),1)])),u(h).internalOptions.internal.siteAnalysis.connectToken?(n(),R(u(B),{key:2,score:l.value,description:u(e),loading:c.analyzing,summary:v.value},null,8,["score","description","loading","summary"])):S("",!0)]))}},C="all-in-one-seo-pack",be={setup(){return{analyzerStore:L(),licenseStore:U(),optionsStore:w(),rootStore:G(),settingsStore:P()}},components:{CoreCard:V,CoreMainTabs:q,CoreSeoSiteAnalysisResults:W,CoreSeoSiteScoreAnalyze:ve,CoreTooltip:ne,SvgCircleQuestionMark:ie,SvgRefresh:ae},data(){return{internalDebounce:!1,homeResults:{results:[],score:null},strings:{completeSeoChecklist:p("Complete SEO Checklist",C),refreshResults:p("Refresh Results",C),cardDescription:p("These are the results our SEO Analzyer has generated after analyzing the homepage of your website.",C)+" "+D.getDocLink(j.learnMore,"seoAnalyzer",!0)}}},computed:{tabs(){var l;const i=(l=this.homeResults)==null?void 0:l.score;return[{slug:"all-items",label:p("All Items",C),analyze:{classColor:"black",count:i?this.analyzerStore.allItemsCount():0}},{slug:"critical",label:p("Important Issues",C),analyze:{classColor:"red",count:i?this.analyzerStore.criticalCount():0}},{slug:"recommended-improvements",label:p("Recommended Improvements",C),analyze:{classColor:"blue",count:i?this.analyzerStore.recommendedCount():0}},{slug:"good-results",label:p("Good Results",C),analyze:{classColor:"green",count:i?this.analyzerStore.goodCount():0}}]}},methods:{processChangeTab(i){this.internalDebounce||(this.internalDebounce=!0,this.settingsStore.changeTab({slug:"seoAuditChecklist",value:i}),setTimeout(()=>{this.internalDebounce=!1},50))},async refresh(){this.analyzerStore.analyzing=!0,await this.analyzerStore.runSiteAnalyzer({refresh:!0}),this.analyzerStore.getSiteAnalysisResults().then(()=>{this.homeResults=this.analyzerStore.homeResults,this.analyzerStore.analyzing=!1})}},mounted(){this.homeResults=this.analyzerStore.homeResults}},Ae={class:"aioseo-seo-audit-checklist"},Re=["innerHTML"],Te={class:"label"};function Oe(i,l,g,e,t,s){var A;const k=a("core-seo-site-score-analyze"),h=a("core-card"),z=a("svg-circle-question-mark"),v=a("core-tooltip"),o=a("svg-refresh"),b=a("base-button"),T=a("core-main-tabs"),c=a("core-seo-site-analysis-results");return n(),y("div",Ae,[d(h,{slug:"connectOrScore","hide-header":"","no-slide":"",toggles:!1},{default:m(()=>[d(k)]),_:1}),(e.rootStore.isPro&&e.licenseStore.licenseKey||e.optionsStore.internalOptions.internal.siteAnalysis.connectToken)&&((A=t.homeResults)!=null&&A.score)?(n(),R(h,{key:0,slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:m(()=>[r("span",null,_(t.strings.completeSeoChecklist),1),d(v,null,{tooltip:m(()=>[r("span",{innerHTML:t.strings.cardDescription},null,8,Re)]),default:m(()=>[d(z)]),_:1})]),"header-extra":m(()=>[d(b,{class:"refresh-results",type:"gray",size:"small",onClick:s.refresh,loading:e.analyzerStore.analyzing},{default:m(()=>[d(o),x(" "+_(t.strings.refreshResults),1)]),_:1},8,["onClick","loading"])]),tabs:m(()=>[d(T,{tabs:s.tabs,showSaveButton:!1,active:e.settingsStore.settings.internalTabs.seoAuditChecklist,internal:"",onChanged:s.processChangeTab,"skinny-tabs":""},{"var-tab":m(({tab:f})=>[r("span",{class:Z(["round",f.analyze.classColor])},_(f.analyze.count||0),3),r("span",Te,_(f.label),1)]),_:1},8,["tabs","active","onChanged"])]),default:m(()=>{var f;return[((f=t.homeResults)==null?void 0:f.results)!==null?(n(),R(c,{key:0,section:e.settingsStore.settings.internalTabs.seoAuditChecklist,"all-results":t.homeResults.results,"show-instructions":""},null,8,["section","all-results"])):S("",!0)]}),_:1})):S("",!0)])}const po=N(be,[["render",Oe]]);export{po as default};
